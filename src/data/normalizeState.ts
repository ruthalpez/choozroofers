export const normalizeState = (input: string): string => {
  const map: Record<string, string> = {
    alabama: "al",
    alaska: "ak",
    arizona: "az",
    arkansas: "ar",
    california: "ca",
    colorado: "co",
    connecticut: "ct",
    delaware: "de",
    florida: "fl",
    georgia: "ga",
    hawaii: "hi",
    idaho: "id",
    illinois: "il",
    indiana: "in",
    iowa: "ia",
    kansas: "ks",
    kentucky: "ky",
    louisiana: "la",
    maine: "me",
    maryland: "md",
    massachusetts: "ma",
    michigan: "mi",
    minnesota: "mn",
    mississippi: "ms",
    missouri: "mo",
    montana: "mt",
    nebraska: "ne",
    nevada: "nv",
    "new hampshire": "nh",
    "new jersey": "nj",
    "new mexico": "nm",
    "new york": "ny",
    "north carolina": "nc",
    "north dakota": "nd",
    ohio: "oh",
    oklahoma: "ok",
    oregon: "or",
    pennsylvania: "pa",
    "rhode island": "ri",
    "south carolina": "sc",
    "south dakota": "sd",
    tennessee: "tn",
    texas: "tx",
    utah: "ut",
    vermont: "vt",
    virginia: "va",
    washington: "wa",
    "west virginia": "wv",
    wisconsin: "wi",
    wyoming: "wy",

    // abbreviations
    al: "al",
    ak: "ak",
    az: "az",
    ar: "ar",
    ca: "ca",
    co: "co",
    ct: "ct",
    de: "de",
    fl: "fl",
    ga: "ga",
    hi: "hi",
    id: "id",
    il: "il",
    in: "in",
    ia: "ia",
    ks: "ks",
    ky: "ky",
    la: "la",
    me: "me",
    md: "md",
    ma: "ma",
    mi: "mi",
    mn: "mn",
    ms: "ms",
    mo: "mo",
    mt: "mt",
    ne: "ne",
    nv: "nv",
    nh: "nh",
    nj: "nj",
    nm: "nm",
    ny: "ny",
    nc: "nc",
    nd: "nd",
    oh: "oh",
    ok: "ok",
    or: "or",
    pa: "pa",
    ri: "ri",
    sc: "sc",
    sd: "sd",
    tn: "tn",
    tx: "tx",
    ut: "ut",
    vt: "vt",
    va: "va",
    wa: "wa",
    wv: "wv",
    wi: "wi",
    wy: "wy",
  };

  const key = input.trim().toLowerCase();
  return map[key] || "";
};
